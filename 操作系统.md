---
typora-root-url: ./图片
---

# 操作系统笔记

## 第二章作业题笔记

![image-20240420015923775](F:\CODE\GIThub\Markdown\图片\image-20240420015923775.png)



For round robin, during the first 10 minutes each job gets 1/5 of the CPU. At the end of 10 minutes, C finishes. During the next 8 minutes, each job gets 1/4 of the CPU, after which time D finishes. Then each of the three remaining jobs gets 1/3 of the CPU for 6 minutes, until B finishes, and so on. The finishing times for the five jobs are 10, 18, 24, 28, and 30, for an average of 22 minutes. For priority scheduling, B is run first. After 6 minutes it is finished. The other jobs finish at 14, 24, 26, and 30, for an average of 18.8 minutes. If the jobs run in the order A through E, they finish at 10, 16, 18, 22, and 30, for an average of 19.2 minutes. Finally, shortest job first yields finishing times of 2, 6, 12, 20, and 30, for an average of 14 minutes.



rr中关键计算每个任务完成的时间节点，不必在意切片的宽度

“turnaround time”：完成作业需要的时间

## Scheduling in Real-Time Systems

Real-time systems are generally categorized as **hard real time**, meaning there are absolute deadlines that must be met—or else!—and **soft real time**, meaning that missing an occasional deadline is undesirable, but nevertheless tolerable.



event streams.Depending on how much time each event requires for processing,handling all of them may not even be possible.For example,if there are m periodic events and event i occurs with period P;and requires Ci sec of CPU time to handle each event,then the load can be handled only if

![image-20240421000115736](F:\CODE\GIThub\Markdown\图片\image-20240421000115736.png)

![image-20240421000150709](F:\CODE\GIThub\Markdown\图片\image-20240421000150709.png)

## 数据竞争

**数据竞争**发生在多个线程或进程同时修改共享数据时，最终的结果依赖于线程的执行顺序。

--保护措施：通常使用**互斥锁**（例如上面代码中的`w_mutex`）来保护这类共享变量。互斥锁确保在任何给定时间内，**只有一个线程**可以修改计数器：

- 当线程开始修改计数器之前，它必须首先获取锁。
- 在修改完成后，它释放锁，允许其他线程进行修改。

这种方法可以有效避免并发环境中的数据竞争和错误更新，是多线程程序设计中常用的同步技术。